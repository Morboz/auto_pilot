ä¸‹é¢ç»™ä½ ä¸€ä¸ª **çœŸæ­£å·¥ç¨‹å¯è½åœ°çš„ç»„ä»¶çº§æ¶æ„å›¾**ï¼Œç±»ä¼¼çœŸå®å¤§è§„æ¨¡ç³»ç»Ÿçš„æ¨¡å—åˆ’åˆ†ä¸æ•°æ®æµåŠ¨æ–¹å¼ã€‚
æˆ‘æŠŠå®ƒæ‹†æˆï¼š

1. **é«˜å±‚æ¶æ„å›¾ï¼ˆç³»ç»Ÿçº§ï¼‰**
2. **åç«¯ç»„ä»¶å›¾ï¼ˆæœåŠ¡çº§ï¼‰**
3. **Agent Runtime å†…éƒ¨æ‰§è¡Œæµç¨‹å›¾**
4. **å·¥å…·æ’ä»¶ç³»ç»Ÿï¼ˆTool Registryï¼‰æ¶æ„å›¾**
5. **Web å‰ç«¯ï¼ˆäº¤äº’æµç¨‹ï¼‰æ¶æ„å›¾**
6. **æ•´ä½“æ•°æ®æµæ€»è§ˆå›¾ï¼ˆç«¯åˆ°ç«¯ï¼‰**

è¿™å¥—æ¶æ„å¯ä»¥ç›´æ¥æ‹¿å»ä½œä¸ºä½ æ¡†æ¶å¼€å‘çš„è“å›¾ã€‚

---

# 1ï¸âƒ£ é«˜å±‚æ¶æ„å›¾ï¼ˆSystem Architectureï¼‰

è¿™æ˜¯ä¸€ä¸ªå…¨å±€è§†è§’çš„ç»„ä»¶å…³ç³»å›¾ã€‚

```
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚        Web UI           â”‚
                             â”‚  - Agent Dashboard       â”‚
                             â”‚  - Workspace Explorer    â”‚
                             â”‚  - Tool Manager          â”‚
                             â”‚  - Execution Timeline    â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚ HTTP/WebSocket
                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                Backend API Gateway                             â”‚
â”‚--------------------------------------------------------------------------------â”‚
â”‚                               (REST + WebSocket)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                                   â”‚
                â”‚                                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Agent Runtime Service     â”‚                       â”‚     Tool Registry Service â”‚
â”‚  - Plan â†’ Act â†’ Observe Loop   â”‚                       â”‚  - Plugin Loader          â”‚
â”‚  - LLM Invocation              â”‚                       â”‚  - Tool Schema Store      â”‚
â”‚  - Tool Invocation Router      â”‚                       â”‚  - Tool Sandbox           â”‚
â”‚  - Workspace State Manager     â”‚                       â”‚  - Permission System      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        
â”‚     Workspace Storage Service  â”‚        
â”‚  - Per-Agent Sandbox Filesystemâ”‚        
â”‚  - Versioning / Snapshots      â”‚        
â”‚  - Artifact Storage            â”‚        
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Audit & Event Log Store   â”‚
â”‚  - Tool calls                 â”‚
â”‚  - LLM steps                  â”‚
â”‚  - Plans / Errors             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LLM Provider Layer    â”‚
â”‚  - OpenAI                     â”‚
â”‚  - Claude                     â”‚
â”‚  - Local LLM via API          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 2ï¸âƒ£ åç«¯ç»„ä»¶çº§æ¶æ„å›¾ï¼ˆBackend Deep Diveï¼‰

å°† Backend æ‹†æˆçœŸæ­£çš„å°æ¨¡å—ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend Core System                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. API Layer             â”‚ 2. WebSocket Layer                 â”‚
â”‚  - RESTful API           â”‚  - Streaming Agent Events          â”‚
â”‚  - Auth                  â”‚  - Real-time Tool Logs             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        3. Agent Runtime                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 3.1 Controller                                         â”‚   â”‚
â”‚  â”‚  - Start/stop/pause/resume agent                       â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚ 3.2 Execution Loop                                     â”‚   â”‚
â”‚  â”‚  - Plan â†’ Act â†’ Observe                                â”‚   â”‚
â”‚  â”‚  - Retry Logic                                          â”‚   â”‚
â”‚  â”‚  - Error Handling                                       â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚ 3.3 State Manager                                      â”‚   â”‚
â”‚  â”‚  - Execution state                                      â”‚   â”‚
â”‚  â”‚  - Workspace state                                      â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚ 3.4 LLM Adapter                                         â”‚   â”‚
â”‚  â”‚  - OpenAI/Claude API                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       4. Tool System                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 4.1 Tool Registry                                       â”‚   â”‚
â”‚  â”‚ 4.2 Tool Permissions                                    â”‚   â”‚
â”‚  â”‚ 4.3 Tool Executor                                       â”‚   â”‚
â”‚  â”‚ 4.4 Tool Sandbox                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       5. Workspace Subsystem                  â”‚
â”‚  - Isolated File System per Agent                            â”‚
â”‚  - Allowed paths whitelist                                   â”‚
â”‚  - File events for the UI                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     6. Event/Audit/Logs System               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 3ï¸âƒ£ Agent Runtime å†…éƒ¨æ‰§è¡Œæµç¨‹å›¾ï¼ˆæ ¸å¿ƒï¼‰

è¿™æ˜¯â€œåšä¸€ä¸ªåƒ Claude Code é‚£æ ·çš„è‡ªä¸»æ‰§è¡Œ Agentâ€æœ€æ ¸å¿ƒçš„é€»è¾‘ï¼š

```
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Start Task â†’       â”‚ 1. Initialize Agent Context  â”‚
                   â”‚ - load tools                 â”‚
                   â”‚ - load workspace             â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ 2. Generate Plan (LLM)  â”‚
                     â”‚ "What should I do next?"â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ plan + tool args
                             â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚            Is plan a tool call? â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ yes
                             â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ 3. Execute Tool           â”‚
                  â”‚ - validate schema          â”‚
                  â”‚ - sandbox exec             â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ tool result
                                  â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ 4. Send result to LLM   â”‚
                      â”‚ "Here is what happened" â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   5. Next Plan?   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ yes
                                  â–¼
                             go to 2
                                  â”‚ 
                           (loop continues)
                                  â”‚
                                  â–¼
                           If LLM outputs "DONE"
                                  â–¼
                             End Task
```

è¿™å°±æ˜¯ Claude Code çš„æ ¸å¿ƒå¾ªç¯ï¼Œ**ä½ è¦åšçš„æ¡†æ¶æœ¬è´¨å°±æ˜¯å¤ç°è¿™ä¸ª Runtimeï¼Œä½†æ›´é€šç”¨ã€‚**

---

# 4ï¸âƒ£ Tool Registry æ¶æ„å›¾ï¼ˆå·¥å…·æ’ä»¶ç³»ç»Ÿï¼‰

ä½ çš„å·¥å…·ç³»ç»Ÿå¦‚æœåšå¾—å¥½ï¼Œå°±æ˜¯æ¡†æ¶çš„æ ¸å¿ƒæŠ¤åŸæ²³ã€‚

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Tool Registry         â”‚
                    â”‚  - tool definitions        â”‚
                    â”‚  - schema validation       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                     â”‚                          â”‚
          â–¼                     â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tool Metadata    â”‚   â”‚ Tool Implementationâ”‚    â”‚ Tool Permissions   â”‚
â”‚ name, desc,      â”‚   â”‚ Python/Node func   â”‚    â”‚ allowed dirs        â”‚
â”‚ schema(JSON)     â”‚   â”‚ runtime env        â”‚    â”‚ allowed ops         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Tool Execution Engine   â”‚
                    â”‚ - run tool with sandbox    â”‚
                    â”‚ - timeout                  â”‚
                    â”‚ - safe output              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 5ï¸âƒ£ Web UI æ¶æ„å›¾ï¼ˆå‰ç«¯æ ¸å¿ƒæ¨¡å—ï¼‰

è¿™ä¸ª UI ä¼šè®©ä½ çš„æ¡†æ¶æ¯”å¸‚åœºä¸Šæ‰€æœ‰ agent æ¡†æ¶æ›´å¥½ç”¨ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             WEB UI (SPA)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Agent Dashboard        â”‚ 2. Tool Manager
â”‚ - create/start/stop       â”‚ - add/remove tool
â”‚ - execution status        â”‚ - schema editor
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. Execution Timeline View           â”‚
â”‚ - plan steps                         â”‚
â”‚ - LLM messages                       â”‚
â”‚ - tool calls                         â”‚
â”‚ - errors                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. Workspace File Explorer           â”‚
â”‚ - view/edit files                    â”‚
â”‚ - show tool-written outputs          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. Real-time Logs (WebSocket)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 6ï¸âƒ£ æœ€ç»ˆç«¯åˆ°ç«¯æ•°æ®æµæ€»è§ˆï¼ˆæœ€å…³é”®çš„ä¸€å¼ ï¼‰

```
User â†’ Web UI â†’ API â†’ Agent Runtime â†’ LLM
                                      â†“
                                   Tool Plan
                                      â†“
                                Tool Registry
                                      â†“
                                Tool Execution
                                      â†“
                               Workspace Update
                                      â†“
                                Event/Audit Log
                                      â†“
                             Real-time UI Updates
```

æ•´ä¸ªç³»ç»Ÿçš„â€œå¾ªç¯â€å°±æ˜¯ï¼š

**UI â†’ Runtime â†’ LLM â†’ Tool â†’ Workspace â†’ UI**

è¿™å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„è‡ªä¸» Agent ç¯å¢ƒã€‚

---

# ğŸ”¥ç»“è¯­ï¼šè¿™æ˜¯ä¸€ä¸ªå®Œå…¨å¯æ‰§è¡Œçš„ Agent æ¡†æ¶è“å›¾

è¿™ä¸ªæ¶æ„ï¼š

* æ¨¡å—è¾¹ç•Œæ¸…æ™°
* æ˜“æ‰©å±•
* è¶³å¤Ÿé€šç”¨
* å¯ä»¥æ”¯æŒ Claude Code çº§åˆ«çš„è‡ªä¸»ä»»åŠ¡èƒ½åŠ›
* å¸‚åœºä¸Šæ— äººåšåˆ°ï¼ˆå·¨å¤§æœºä¼šï¼‰
* å·¥ç¨‹å¯è½åœ°ï¼ˆå¹¶ä¸å¤æ‚ï¼Œæ ¸å¿ƒå°±æ˜¯ runtime + tool sandbox + web uiï¼‰
